<?xml version="1.0" encoding="UTF-8"?>
<SMCube version="1.0" name="StateMachine">
 <States>
  <State entryAction="" whileAction="" type="initial" id="1" name="" exitAction="">
   <Hmi width="12" radius="6" height="12">
    <Position>
     <Point x="135" y="105"/>
    </Position>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </State>
  <State entryAction="LocVar(sjTime)=0;" whileAction="LocVar(sjTime)++;" type="regular" id="2" name="Idle" exitAction="">
   <Hmi width="300" radius="8" height="80">
    <Position>
     <Point x="188" y="199"/>
    </Position>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </State>
  <State entryAction="" whileAction="" type="regular" id="3" name="Requesting" exitAction="">
   <Hmi width="120" radius="8" height="80">
    <Position>
     <Point x="810" y="222"/>
    </Position>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </State>
  <State entryAction="OutPort(request)=0; LocVar(sjTime)=0;" whileAction="LocVar(sjTime)++;" type="regular" id="4" name="Using" exitAction="">
   <Hmi width="400" radius="8" height="80">
    <Position>
     <Point x="478" y="510"/>
    </Position>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </State>
 </States>
 <Transitions>
  <Transition guard="" srcStateId="1" action="" priority="1" events="" id="1" dstStateId="2">
   <Hmi visible="0">
    <ActionPoint>
     <Point x="8.90070286343755e-308" y="8.900702863567067e-308"/>
    </ActionPoint>
    <ControlPoint>
     <Point x="140" y="129"/>
    </ControlPoint>
    <EndPoint>
     <Point x="138.7142857142857" y="159"/>
    </EndPoint>
    <GuardPoint>
     <Point x="8.90070286343755e-308" y="8.90070286343755e-308"/>
    </GuardPoint>
    <PriorityPoint>
     <Point x="8.90070286343755e-308" y="8.900702863567067e-308"/>
    </PriorityPoint>
    <StartPoint>
     <Point x="83" y="58"/>
    </StartPoint>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </Transition>
  <Transition guard="LocVar(sjTime) > 0" srcStateId="2" action="OutPort(request)=InPort(id);" priority="1" events="" id="2" dstStateId="3">
   <Hmi visible="1">
    <ActionPoint>
     <Point x="453.5" y="126.5"/>
    </ActionPoint>
    <ControlPoint>
     <Point x="566" y="125"/>
    </ControlPoint>
    <EndPoint>
     <Point x="750" y="221"/>
    </EndPoint>
    <GuardPoint>
     <Point x="453.5" y="97.5"/>
    </GuardPoint>
    <PriorityPoint>
     <Point x="268" y="186"/>
    </PriorityPoint>
    <StartPoint>
     <Point x="338" y="188"/>
    </StartPoint>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </Transition>
  <Transition guard="InPort(busId) > 0" srcStateId="3" action="OutPort(ack_notRelease)=1; OutPort(bus)=InPort(busId);" priority="1" events="" id="3" dstStateId="4">
   <Hmi visible="1">
    <ActionPoint>
     <Point x="800" y="372.25"/>
    </ActionPoint>
    <ControlPoint>
     <Point x="803" y="445.5"/>
    </ControlPoint>
    <EndPoint>
     <Point x="678" y="497"/>
    </EndPoint>
    <GuardPoint>
     <Point x="910" y="341.75"/>
    </GuardPoint>
    <PriorityPoint>
     <Point x="510" y="238"/>
    </PriorityPoint>
    <StartPoint>
     <Point x="809.7142857142857" y="262"/>
    </StartPoint>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </Transition>
  <Transition guard="LocVar(sjTime) > 2" srcStateId="4" action="OutPort(ack_notRelease)=0;  OutPort(bus)=0;" priority="1" events="" id="4" dstStateId="2">
   <Hmi visible="1">
    <ActionPoint>
     <Point x="192.25" y="371.75"/>
    </ActionPoint>
    <ControlPoint>
     <Point x="134.5" y="432.5"/>
    </ControlPoint>
    <EndPoint>
     <Point x="170.8571428571429" y="239"/>
    </EndPoint>
    <GuardPoint>
     <Point x="207.75" y="345.25"/>
    </GuardPoint>
    <PriorityPoint>
     <Point x="303" y="329"/>
    </PriorityPoint>
    <StartPoint>
     <Point x="278" y="497"/>
    </StartPoint>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </Transition>
  <Transition guard="InPort(busId) == 0" srcStateId="3" action="" priority="2" events="" id="5" dstStateId="2">
   <Hmi visible="1">
    <ActionPoint>
     <Point x="520.75" y="295.25"/>
    </ActionPoint>
    <ControlPoint>
     <Point x="535.5" y="287.5"/>
    </ControlPoint>
    <EndPoint>
     <Point x="338" y="221"/>
    </EndPoint>
    <GuardPoint>
     <Point x="505.75" y="267.75"/>
    </GuardPoint>
    <PriorityPoint>
     <Point x="751" y="237"/>
    </PriorityPoint>
    <StartPoint>
     <Point x="750" y="237"/>
    </StartPoint>
    <Font size="8" family="MS Shell Dlg 2"/>
   </Hmi>
  </Transition>
 </Transitions>
 <DataModel>
  <Input>
   <Attribute position="0" multiplicity="1" alias="id" type="int32_t"/>
   <Attribute position="1" multiplicity="1" alias="busId" type="int32_t"/>
  </Input>
  <Output>
   <Attribute position="0" multiplicity="1" alias="request" type="int32_t"/>
   <Attribute position="1" multiplicity="1" alias="ack_notRelease" type="int32_t"/>
   <Attribute position="2" multiplicity="1" alias="bus" type="int32_t"/>
  </Output>
  <LocalVariables>
   <Attribute position="0" multiplicity="1" alias="sjTime" type="int8_t"/>
  </LocalVariables>
  <EventsIn/>
  <EventsOut/>
 </DataModel>
</SMCube>
